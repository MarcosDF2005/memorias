<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Memoria Digital | Protocolo de Recuperaci√≥n</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="grid-overlay"></div>
<div class="scanline"></div>

<main id="app">
  <!-- Login -->
  <section id="login-screen" class="screen">
    <div class="cyber-card login-card">
      <h2 class="title-glow">MEMORIA DIGITAL</h2>
      <p class="subtitle">Inicia sesi√≥n para acceder</p>
      <form id="login-form" class="login-form" onsubmit="doLogin(event)">
        <div class="form-row">
          <label class="form-label">Usuario</label>
          <input type="text" name="username" class="form-input" id="login-username" placeholder="Tu nombre (ej: Andrea, Mario...)" autocomplete="username" required>
        </div>
        <div class="form-row">
          <label class="form-label">Contrase√±a</label>
          <input type="password" name="password" class="form-input" placeholder="Tu contrase√±a" autocomplete="current-password" required>
        </div>
        <p id="login-error" class="login-error hidden"></p>
        <button type="submit" class="sci-fi-btn btn-login">ENTRAR</button>
      </form>
      <button type="button" class="sci-fi-btn secondary btn-guest" onclick="continueAsGuest()">Continuar sin login</button>
    </div>
  </section>

  <!-- Hub principal -->
  <section id="hub-screen" class="screen hidden">
    <header class="hub-bar" id="hub-user" role="group" aria-label="Usuario y notificaciones">
      <div class="hub-bar-left"></div>
      <div class="hub-bar-center">
        <div class="hub-user-trigger">
          <button type="button" class="hub-user-main" onclick="toggleProfileMenu()" id="hub-profile-btn" aria-expanded="false" aria-haspopup="true" aria-controls="hub-profile-menu" aria-label="Perfil">
            <span class="hub-status-dot" title="En l√≠nea" aria-hidden="true"></span>
            <span id="hub-badge-icon" class="hub-badge-icon hidden" aria-hidden="true"></span>
            <img id="hub-avatar" class="hub-avatar" src="" alt="" decoding="async" loading="eager">
            <span id="hub-name" class="sr-only"></span>
            <span id="hub-next-bday" class="sr-only"></span>
          </button>
          <div class="hub-profile-menu hidden" id="hub-profile-menu" role="menu" aria-labelledby="hub-profile-btn">
            <div class="profile-summary" id="profile-summary"><!-- Rellenado por JS --></div>
            <div
              id="streak-widget"
              class="streak-widget profile-streak-widget"
              onclick="openStreakModal()"
              role="button"
              tabindex="0"
              aria-label="Ver detalles de tu racha"
            >
              <div class="streak-header-row">
                <span class="streak-label">Racha</span>
                <span id="streak-count" class="streak-count">Sin racha a√∫n</span>
              </div>
              <div class="streak-bar-outer">
                <div id="streak-bar-inner" class="streak-bar-inner"></div>
              </div>
              <div class="streak-footer-row">
                <span id="streak-next" class="streak-next"></span>
                <div id="streak-achievements" class="streak-achievements"></div>
              </div>
            </div>
            <button type="button" class="menu-item" onclick="openBadgesModal()" role="menuitem">üèÖ Mis medallas</button>
            <button type="button" class="menu-item" id="btn-mi-portal-bday" onclick="goToMyPortal()" role="menuitem">üéÅ Mi portal de cumplea√±os</button>
            <div class="menu-section-label">Cuenta</div>
            <button type="button" class="menu-item" onclick="openChangePassword()" role="menuitem">üîê Cambiar contrase√±a</button>
            <div class="menu-colors-wrap">
              <span class="menu-colors-label">Tema</span>
              <div class="menu-colors" id="menu-colors"></div>
            </div>
            <button type="button" class="menu-item menu-logout" onclick="doLogout()" role="menuitem">SALIR</button>
          </div>
        </div>
      </div>
      <div class="hub-bar-right">
        <div class="hub-presence-trigger">
          <button
            type="button"
            class="hub-presence-btn"
            id="hub-presence-btn"
            onclick="togglePresenceMenu()"
            aria-expanded="false"
            aria-haspopup="true"
            aria-controls="hub-presence-dropdown"
            aria-label="Conectados"
          >
            <span class="hub-presence-icon" aria-hidden="true">üë•</span>
            <span class="presence-badge hidden" id="presence-badge" aria-live="polite">0</span>
          </button>
          <div class="hub-presence-dropdown hidden" id="hub-presence-dropdown" role="menu" aria-labelledby="hub-presence-btn"></div>
        </div>
        <div class="hub-notif-trigger">
          <button type="button" class="hub-notifications" id="hub-notifications" onclick="toggleNotifications()" aria-expanded="false" aria-haspopup="true" aria-controls="hub-notif-dropdown" aria-label="Notificaciones">
            <span class="notif-icon" aria-hidden="true">üîî</span>
            <span class="notif-badge hidden" id="notif-badge" aria-live="polite">0</span>
          </button>
          <div class="hub-notif-dropdown hidden" id="hub-notif-dropdown" role="menu" aria-labelledby="hub-notifications"></div>
        </div>
      </div>
    </header>
    <!-- Modal cambiar contrase√±a -->
    <div id="change-password-modal" class="modal-overlay hidden" onclick="if(event.target===this)closeChangePassword()">
      <div class="modal-content" onclick="event.stopPropagation()">
        <h3>Cambiar contrase√±a</h3>
        <form onsubmit="submitChangePassword(event)">
          <div class="form-row">
            <label>Contrase√±a actual</label>
            <input type="password" name="currentPassword" required>
          </div>
          <div class="form-row">
            <label>Nueva contrase√±a</label>
            <input type="password" name="newPassword" minlength="4" required>
          </div>
          <p id="change-pw-error" class="login-error hidden"></p>
          <button type="submit" class="sci-fi-btn">GUARDAR</button>
        </form>
      </div>
    </div>
    <!-- Modal detalles de racha -->
    <div id="streak-modal" class="modal-overlay hidden" onclick="if(event.target===this)closeStreakModal()">
      <div class="modal-content streak-modal-content" onclick="event.stopPropagation()">
        <h3 class="streak-modal-title">Tu racha de recuerdos</h3>
        <div class="streak-metric-grid">
          <div class="streak-metric">
            <span class="streak-metric-label">Actual</span>
            <span id="streak-modal-current" class="streak-metric-value">0 d√≠as</span>
          </div>
          <div class="streak-metric">
            <span class="streak-metric-label">Mejor</span>
            <span id="streak-modal-best" class="streak-metric-value">0 d√≠as</span>
          </div>
          <div class="streak-metric">
            <span class="streak-metric-label">Pr√≥x. logro</span>
            <span id="streak-modal-next" class="streak-metric-value">‚Äî</span>
          </div>
        </div>
        <div id="streak-modal-achievements" class="streak-modal-achievements"></div>
        <div id="streak-modal-badges" class="streak-modal-badges"></div>
        <button type="button" class="streak-info-btn" onclick="toggleStreakInfo()">¬øC√≥mo funciona la racha?</button>
        <div id="streak-modal-tips" class="streak-modal-tips hidden">
          <p class="streak-modal-tip-title">C√≥mo mantener la racha:</p>
          <ul>
            <li>Sube al menos un estado, evento o entrada de calendario cada d√≠a.</li>
            <li>Si un d√≠a se te pasa, la racha vuelve a 1 al siguiente uso.</li>
            <li>Al llegar a 7, 15 y 30 d√≠as desbloqueas logros especiales.</li>
          </ul>
        </div>
        <button type="button" class="sci-fi-btn btn-add-full" onclick="closeStreakModal()">Entendido</button>
      </div>
    </div>

    <!-- Modal gesti√≥n de medallas -->
    <div id="badges-modal" class="modal-overlay hidden" onclick="if(event.target===this)closeBadgesModal()">
      <div class="modal-content badges-modal-content" onclick="event.stopPropagation()">
        <h3 class="streak-modal-title">Tus medallas</h3>
        <p class="badges-modal-subtitle">Elige qu√© medalla se muestra junto a tu avatar. Solo ves las que ya has desbloqueado.</p>
        <div id="badges-modal-grid" class="badges-modal-grid"></div>
        <button type="button" class="sci-fi-btn btn-add-full" onclick="closeBadgesModal()">Cerrar</button>
      </div>
    </div>
    <!-- Franja de estados (historias 24h) -->
    <div class="estados-strip-wrap" id="estados-strip-wrap">
      <div class="estados-strip" id="estados-strip" role="list"></div>
    </div>
    <!-- Modal publicar estado -->
    <div id="estado-add-modal" class="modal-overlay estado-modal hidden" onclick="if(event.target===this)closeEstadoAddModal()">
      <div class="modal-content estado-add-content" onclick="event.stopPropagation()">
        <h3 class="estado-modal-title">Tu estado</h3>
        <p class="estado-modal-hint">Visible 24 horas ¬∑ Foto y/o texto</p>
        <form id="estado-add-form" class="estado-add-form" onsubmit="submitEstado(event)">
          <div class="estado-form-field">
            <label class="estado-label">üì∑ Foto (opcional)</label>
            <button type="button" class="estado-photo-tap" onclick="document.getElementById('estado-photo').click()">
              <span class="estado-photo-icon">üì∑</span>
              <span class="estado-photo-text">Toca para hacer una foto o elegir de la galer√≠a</span>
            </button>
            <input type="file" id="estado-photo" name="photo" accept="image/*" capture="environment" class="estado-file" onchange="previewEstadoPhoto(this)">
            <div id="estado-photo-preview" class="estado-photo-preview hidden"></div>
          </div>
          <div class="estado-form-field">
            <label class="estado-label">‚úèÔ∏è Texto</label>
            <textarea name="text" class="estado-textarea" placeholder="¬øQu√© tal el d√≠a?" maxlength="150" rows="3"></textarea>
          </div>
          <div class="estado-modal-actions">
            <button type="button" class="sci-fi-btn secondary" onclick="closeEstadoAddModal()">Cancelar</button>
            <button type="submit" class="sci-fi-btn btn-estado-publish">Publicar estado</button>
          </div>
        </form>
      </div>
    </div>
    <!-- Visor de estado (story) -->
    <div id="estado-viewer" class="estado-viewer hidden" onclick="closeEstadoViewer()">
      <button type="button" class="estado-viewer-close" onclick="closeEstadoViewer()" aria-label="Cerrar">√ó</button>
      <div class="estado-viewer-inner" onclick="event.stopPropagation()">
        <div class="estado-progress-bar">
          <div id="estado-progress-fill" class="estado-progress-fill"></div>
        </div>
        <div class="estado-viewer-top">
          <div class="estado-viewer-user">
            <img id="estado-viewer-avatar" class="estado-viewer-avatar" src="" alt="">
            <span id="estado-viewer-username" class="estado-viewer-username"></span>
          </div>
        </div>
        <img id="estado-viewer-img" class="estado-viewer-img" src="" alt="">
        <div id="estado-viewer-no-photo" class="estado-viewer-no-photo hidden"></div>
        <div class="estado-viewer-text-wrap">
          <p id="estado-viewer-text" class="estado-viewer-text"></p>
          <span id="estado-viewer-name" class="estado-viewer-name"></span>
        </div>
        <div class="estado-reactions">
          <button type="button" class="estado-reaction-btn" data-reaction="üòç" onclick="toggleEstadoReaction(event, 'üòç')">üòç</button>
          <button type="button" class="estado-reaction-btn" data-reaction="üòÇ" onclick="toggleEstadoReaction(event, 'üòÇ')">üòÇ</button>
          <button type="button" class="estado-reaction-btn" data-reaction="‚ù§Ô∏è" onclick="toggleEstadoReaction(event, '‚ù§Ô∏è')">‚ù§Ô∏è</button>
        </div>
        <div class="estado-viewer-actions">
          <button
            type="button"
            id="estado-like-btn"
            class="estado-like-btn"
            onclick="toggleEstadoLike(event)"
            aria-label="Marcar como me gusta"
          >
            ‚ô° Me gusta
          </button>
          <button
            type="button"
            id="estado-delete-btn"
            class="sci-fi-btn secondary estado-delete-btn"
            onclick="deleteCurrentEstado(event)"
          >
            Eliminar estado
          </button>
        </div>
      </div>
    </div>
    <div class="cyber-card hub-card">
      <header class="card-header">
        <h2 class="title-glow">MEMORIA DIGITAL</h2>
        <p class="subtitle">SISTEMA DE RECUPERACI√ìN ¬∑ ESTADO: EN L√çNEA</p>
      </header>
      <nav class="hub-nav" id="hub-nav">
        <!-- Secciones generadas por JS -->
      </nav>
    </div>
  </section>

  <section id="selector-screen" class="screen hidden">
    <div class="cyber-card selector-card">
      <header class="card-header selector-header">
        <h2 class="title-glow">SISTEMA DE MEMORIA</h2>
        <p class="subtitle selector-status">Estado: en l√≠nea</p>
        <button class="sci-fi-btn back-btn selector-back-btn" onclick="goToHub()">‚Üê VOLVER</button>
      </header>
      <div class="selector-container" id="selector-container"></div>
    </div>
  </section>

  <section id="loading-screen" class="screen hidden">
    <div class="cyber-card small-card">
      <div id="terminal-output" class="terminal-text"></div>
      <div class="progress-container">
        <div id="progress-fill"></div>
      </div>
    </div>
  </section>

  <section id="portal-screen" class="screen hidden">
    <div class="cyber-card">
      <button class="sci-fi-btn back-btn" onclick="goToSelector()">‚Üê VOLVER</button>
      <div class="hud-frame">
        <img id="friend-avatar" src="" alt="Avatar" decoding="async" loading="eager">
      </div>
      <h1 id="data-name">---</h1>
      <div class="portal-buttons">
        <button id="access-btn" class="sci-fi-btn">RECONSTRUIR N√öCLEO</button>
        <button id="archivo-btn" class="sci-fi-btn secondary">ABRIR ARCHIVO</button>
      </div>
    </div>
  </section>

  <section id="capsule-screen" class="screen hidden">
    <div class="cyber-card wide-card">
      <div class="message-header">MENSAJE ENCRIPTADO REPRODUCIENDO...</div>
      <p id="personal-message"></p>
      <div class="photo-grid" id="photo-grid"></div>
      <div class="btn-footer">
        <button id="capsule-back-btn" class="sci-fi-btn">‚Üê VOLVER</button>
      </div>
    </div>
  </section>

  <!-- Calendario compartido -->
  <section id="calendar-screen" class="screen hidden">
    <div class="cyber-card wide-card calendar-card">
      <header class="card-header calendar-header">

        <h2 class="title-glow">CALENDARIO COMPARTIDO</h2>
        <p class="subtitle">Pulsa en un d√≠a para a√±adir</p>
        <button class="sci-fi-btn back-btn" onclick="goToHub()">‚Üê VOLVER</button>
        <div class="calendar-nav">
          <button type="button" class="calendar-arrow" onclick="changeCalendarMonth(-1)">‚Äπ</button>
          <span id="calendar-month-label"></span>
          <button type="button" class="calendar-arrow" onclick="changeCalendarMonth(1)">‚Ä∫</button>
        </div>
      </header>
      <div class="calendar-controls">
        <select id="calendar-filter" class="calendar-filter-select" onchange="onCalendarFilterChange(this.value)">
          <option value="todos">Todos los tipos</option>
          <option value="cumplea√±os">Cumplea√±os</option>
          <option value="vacaciones">Vacaciones</option>
          <option value="evento">Evento</option>
          <option value="examen">Examen</option>
          <option value="otro">Otro</option>
        </select>
        <div class="calendar-view-toggle">
          <button type="button" id="calendar-view-month" class="calendar-view-btn active" onclick="setCalendarView('month')">Vista mes</button>
          <button type="button" id="calendar-view-7" class="calendar-view-btn" onclick="setCalendarView('list', 7)">Pr√≥x 7 d√≠as</button>
          <button type="button" id="calendar-view-30" class="calendar-view-btn" onclick="setCalendarView('list', 30)">Pr√≥x 30 d√≠as</button>
        </div>
      </div>
      <div class="calendar-grid" id="calendar-month-view">
        <div class="calendar-weekdays">
          <span>Lun</span><span>Mar</span><span>Mi√©</span><span>Jue</span><span>Vie</span><span>S√°b</span><span>Dom</span>
        </div>
        <div id="calendar-days" class="calendar-days"></div>
      </div>
      <div id="calendar-list-view" class="calendar-list-view hidden"></div>
    </div>

    <!-- Modal para a√±adir en un d√≠a -->
    <div id="calendar-modal" class="calendar-modal hidden" onclick="if(event.target===this)closeCalendarModal()">
      <div class="calendar-modal-content" onclick="event.stopPropagation()">
        <h3 id="calendar-modal-title">A√±adir para el <span></span></h3>
        <form id="calendar-day-form" onsubmit="addCalendarioFromDay(event)">
          <input type="hidden" name="fecha">
          <select name="tipo">
            <option value="cumplea√±os">Cumplea√±os</option>
            <option value="vacaciones">Vacaciones</option>
            <option value="evento">Evento</option>
            <option value="examen">Examen</option>
            <option value="otro">Otro</option>
          </select>
          <input type="text" name="titulo" placeholder="T√≠tulo" required>
          <input type="text" name="descripcion" placeholder="Descripci√≥n (opcional)">
          <div class="modal-actions">
            <button type="button" class="sci-fi-btn secondary" onclick="closeCalendarModal()">Cerrar</button>
            <button type="submit" class="sci-fi-btn btn-add">A√ëADIR</button>
          </div>
        </form>
        <div id="calendar-day-entries" class="day-entries"></div>
      </div>
    </div>
  </section>

  <!-- Eventos del grupo -->
  <section id="eventos-screen" class="screen hidden">
    <div class="cyber-card wide-card eventos-card">
      <header class="card-header eventos-header">
        <h2 class="title-glow">EVENTOS DEL GRUPO</h2>
        <p class="subtitle">Aniversarios, viajes, salidas importantes</p>
        <button class="sci-fi-btn back-btn eventos-back-btn" onclick="closeEventoCreateModal(); goToHub()">‚Üê VOLVER</button>
        <button class="sci-fi-btn btn-create-evento" onclick="openEventoCreateModal()">+ Crear evento</button>
      </header>

      <div class="events-section">
        <div id="eventos-list" class="content-list eventos-list"></div>
      </div>
    </div>

    <!-- Modal crear evento -->
    <div id="evento-create-modal" class="evento-create-modal hidden" onclick="if(event.target===this)closeEventoCreateModal()">
      <div class="evento-create-modal-content" onclick="event.stopPropagation()">
        <h3 class="evento-modal-title">Crear nuevo evento</h3>
        <form id="eventos-form" class="eventos-form-modern" onsubmit="addEvento(event)">
          <div class="evento-form-field">
            <label class="evento-label">
              <span class="evento-label-icon">üìÖ</span>
              Fecha
            </label>
            <input type="date" name="fecha" class="evento-input" required>
          </div>
          <div class="evento-form-field">
            <label class="evento-label">
              <span class="evento-label-icon">üìå</span>
              T√≠tulo del evento
            </label>
            <input type="text" name="titulo" class="evento-input" placeholder="Ej: Viaje a la playa" required>
          </div>
          <div class="evento-form-field">
            <label class="evento-label">
              <span class="evento-label-icon">üìù</span>
              Descripci√≥n
              <span class="evento-label-optional">opcional</span>
            </label>
            <textarea name="descripcion" class="evento-input evento-textarea" placeholder="Detalles del evento..." rows="2"></textarea>
          </div>
          <div class="evento-form-field">
            <label class="evento-label">
              <span class="evento-label-icon">üìç</span>
              Lugar
              <span class="evento-label-optional">opcional</span>
            </label>
            <input type="text" name="lugar" class="evento-input" placeholder="Ej: Madrid, La China...">
          </div>
          <div class="evento-modal-actions">
            <button type="button" class="sci-fi-btn secondary" onclick="closeEventoCreateModal()">Cancelar</button>
            <button type="submit" class="evento-submit-btn btn-add-evento">
              <span class="evento-btn-icon">+</span>
              Crear evento
            </button>
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- C√°psulas del tiempo -->
  <section id="capsulas-screen" class="screen hidden">
    <div class="cyber-card wide-card capsulas-card">
      <header class="card-header capsulas-header">
        <h2 class="title-glow">C√ÅPSULAS DEL TIEMPO</h2>
        <p class="subtitle">Mensajes que se abren en fechas concretas</p>
        <button class="sci-fi-btn back-btn capsula-back-btn" onclick="closeCapsulaCreateModal(); goToHub()">‚Üê VOLVER</button>
        <button class="sci-fi-btn btn-create-capsula" onclick="openCapsulaCreateModal()">+ Crear c√°psula</button>
      </header>

      <div class="events-section">
        <div id="capsulas-list" class="content-list"></div>
      </div>
    </div>

    <!-- Modal crear c√°psula -->
    <div id="capsula-create-modal" class="capsula-create-modal hidden" onclick="if(event.target===this)closeCapsulaCreateModal()">
      <div class="capsula-create-modal-content" onclick="event.stopPropagation()">
        <h3 class="capsula-modal-title">Crear nueva c√°psula</h3>
        <form id="capsulas-form" class="capsulas-form-modern" onsubmit="addCapsula(event)">
          <div class="capsula-form-field">
            <label class="capsula-label">
              <span class="capsula-label-icon">‚è≥</span>
              T√≠tulo
            </label>
            <input type="text" name="titulo" class="capsula-input" placeholder="Ej: Cumplea√±os Mario" required>
          </div>
          <div class="capsula-form-field">
            <label class="capsula-label">
              <span class="capsula-label-icon">üìÖ</span>
              Fecha de apertura
            </label>
            <input type="date" name="fechaApertura" class="capsula-input" required>
          </div>
          <div class="capsula-form-field capsula-permitted-field">
            <label class="capsula-label">
              <span class="capsula-label-icon">üë•</span>
              Restringir acceso
              <span class="capsula-label-optional">opcional</span>
            </label>
            <p class="capsula-form-hint">Si no seleccionas nadie, todos pueden verla y dejar mensaje.</p>
            <div id="capsula-permitted-checkboxes" class="permitted-chips"></div>
          </div>
          <div class="capsula-modal-actions">
            <button type="button" class="sci-fi-btn secondary" onclick="closeCapsulaCreateModal()">Cancelar</button>
            <button type="submit" class="capsula-submit-btn btn-add-capsula">
              <span class="capsula-btn-icon">+</span>
              Crear c√°psula
            </button>
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- Detalle de c√°psula (mensajes) -->
  <section id="capsula-detail-screen" class="screen hidden">
    <div class="cyber-card wide-card">
      <header class="card-header">
        <h2 id="capsula-detail-title" class="title-glow">C√ÅPSULA</h2>
        <p id="capsula-detail-fecha" class="subtitle"></p>
        <button class="sci-fi-btn back-btn" onclick="showCapsulaDetailBack()">‚Üê VOLVER</button>
      </header>
      <div id="capsula-detail-access-msg" class="access-restricted-msg" style="display:none"></div>
      <div class="capsula-detail-mensajes-wrap">
        <h3 class="section-title">üì¨ Mensajes</h3>
        <div id="capsula-detail-mensajes" class="capsula-mensajes capsula-detail-mensajes"></div>
      </div>
      <div id="capsula-detail-form-wrap" class="form-section capsula-detail-form">
        <form id="capsula-detail-form" onsubmit="addMensajeCapsula(event)">
          <input type="hidden" name="capId">
          <div class="form-row">
            <label class="form-label">
              <span class="label-icon">‚úâÔ∏è</span>
              <span class="label-text">Tu mensaje</span>
            </label>
            <textarea name="msj" class="form-input form-textarea" placeholder="Escribe tu mensaje para esta c√°psula..." required rows="3"></textarea>
          </div>
          <button type="submit" class="sci-fi-btn btn-add-full">Enviar mensaje</button>
        </form>
      </div>
    </div>
  </section>

  <!-- Archivo/Memorias de una persona -->
  <section id="memorias-screen" class="screen hidden">
    <div class="cyber-card wide-card">
      <header class="card-header">
        <h2 id="memorias-title" class="title-glow">ARCHIVO DE MEMORIAS</h2>
        <p id="memorias-subtitle" class="subtitle"></p>
        <button class="sci-fi-btn back-btn" onclick="showMemoriasBack()">‚Üê VOLVER</button>
      </header>
      <div id="memorias-list" class="content-list"></div>
    </div>
  </section>

  <!-- Onboarding inicial (solo primera vez) -->
  <div id="onboarding-overlay" class="onboarding-overlay hidden">
    <div class="onboarding-card">
      <h2 class="onboarding-title">Bienvenido a MEMORIA DIGITAL</h2>
      <p class="onboarding-subtitle">Te explico en 3 pasos c√≥mo funciona.</p>
      <div class="onboarding-step">
        <h3 id="onb-step-title" class="onboarding-step-title"></h3>
        <p id="onb-step-text" class="onboarding-step-text"></p>
      </div>
      <div class="onboarding-dots">
        <span class="onb-dot" data-step="0"></span>
        <span class="onb-dot" data-step="1"></span>
        <span class="onb-dot" data-step="2"></span>
      </div>
      <div class="onboarding-actions">
        <button type="button" class="sci-fi-btn secondary" onclick="skipOnboarding()">Saltar</button>
        <button type="button" id="onb-next-btn" class="sci-fi-btn" onclick="nextOnboardingStep()">Siguiente</button>
      </div>
    </div>
  </div>

  <!-- Tour r√°pido por el hub (tooltips) -->
  <div id="hub-tour-overlay" class="hub-tour-overlay hidden">
    <div class="hub-tour-backdrop" onclick="endHubTour()"></div>
    <div id="hub-tour-tooltip" class="hub-tour-tooltip">
      <p id="hub-tour-text"></p>
      <div class="hub-tour-actions">
        <button type="button" class="sci-fi-btn secondary" onclick="endHubTour()">Omitir</button>
        <button type="button" id="hub-tour-next-btn" class="sci-fi-btn" onclick="nextHubTourStep()">Siguiente</button>
      </div>
    </div>
  </div>
</main>

<script src="js/app.js"></script>
</body>
</html>
